{"ast":null,"code":"import _regeneratorRuntime from\"/home/nikhilchauhan/react-tutorial/react-complete-guide-code/code/01-starting-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/home/nikhilchauhan/react-tutorial/react-complete-guide-code/code/01-starting-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/nikhilchauhan/react-tutorial/react-complete-guide-code/code/01-starting-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var FIREBASE_DOMAIN='https://react-prep-default-rtdb.firebaseio.com';export function getAllQuotes(){return _getAllQuotes.apply(this,arguments);}function _getAllQuotes(){_getAllQuotes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,transformedQuotes,key,quoteObj;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(FIREBASE_DOMAIN,\"/quotes.json\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(response.ok){_context.next=8;break;}throw new Error(data.message||'Could not fetch quotes.');case 8:transformedQuotes=[];for(key in data){quoteObj=_objectSpread({id:key},data[key]);transformedQuotes.push(quoteObj);}return _context.abrupt(\"return\",transformedQuotes);case 11:case\"end\":return _context.stop();}},_callee);}));return _getAllQuotes.apply(this,arguments);}export function getSingleQuote(_x){return _getSingleQuote.apply(this,arguments);}function _getSingleQuote(){_getSingleQuote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(quoteId){var response,data,loadedQuote;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(FIREBASE_DOMAIN,\"/quotes/\").concat(quoteId,\".json\"));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;if(response.ok){_context2.next=8;break;}throw new Error(data.message||'Could not fetch quote.');case 8:loadedQuote=_objectSpread({id:quoteId},data);return _context2.abrupt(\"return\",loadedQuote);case 10:case\"end\":return _context2.stop();}},_callee2);}));return _getSingleQuote.apply(this,arguments);}export function addQuote(_x2){return _addQuote.apply(this,arguments);}function _addQuote(){_addQuote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(quoteData){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(FIREBASE_DOMAIN,\"/quotes.json\"),{method:'POST',body:JSON.stringify(quoteData),headers:{'Content-Type':'application/json'}});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;if(response.ok){_context3.next=8;break;}throw new Error(data.message||'Could not create quote.');case 8:return _context3.abrupt(\"return\",null);case 9:case\"end\":return _context3.stop();}},_callee3);}));return _addQuote.apply(this,arguments);}export function addComment(_x3){return _addComment.apply(this,arguments);}function _addComment(){_addComment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(requestData){var response,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(FIREBASE_DOMAIN,\"/comments/\").concat(requestData.quoteId,\".json\"),{method:'POST',body:JSON.stringify(requestData.commentData),headers:{'Content-Type':'application/json'}});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;if(response.ok){_context4.next=8;break;}throw new Error(data.message||'Could not add comment.');case 8:return _context4.abrupt(\"return\",{commentId:data.name});case 9:case\"end\":return _context4.stop();}},_callee4);}));return _addComment.apply(this,arguments);}export function getAllComments(_x4){return _getAllComments.apply(this,arguments);}function _getAllComments(){_getAllComments=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(quoteId){var response,data,transformedComments,key,commentObj;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"\".concat(FIREBASE_DOMAIN,\"/comments/\").concat(quoteId,\".json\"));case 2:response=_context5.sent;_context5.next=5;return response.json();case 5:data=_context5.sent;if(response.ok){_context5.next=8;break;}throw new Error(data.message||'Could not get comments.');case 8:transformedComments=[];for(key in data){commentObj=_objectSpread({id:key},data[key]);transformedComments.push(commentObj);}return _context5.abrupt(\"return\",transformedComments);case 11:case\"end\":return _context5.stop();}},_callee5);}));return _getAllComments.apply(this,arguments);}","map":{"version":3,"names":["FIREBASE_DOMAIN","getAllQuotes","_getAllQuotes","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","transformedQuotes","key","quoteObj","wrap","_callee$","_context","prev","next","fetch","concat","sent","json","ok","Error","message","_objectSpread","id","push","abrupt","stop","getSingleQuote","_x","_getSingleQuote","_callee2","quoteId","loadedQuote","_callee2$","_context2","addQuote","_x2","_addQuote","_callee3","quoteData","_callee3$","_context3","method","body","JSON","stringify","headers","addComment","_x3","_addComment","_callee4","requestData","_callee4$","_context4","commentData","commentId","name","getAllComments","_x4","_getAllComments","_callee5","transformedComments","commentObj","_callee5$","_context5"],"sources":["/home/nikhilchauhan/react-tutorial/react-complete-guide-code/code/01-starting-project/src/lib/api.js"],"sourcesContent":["const FIREBASE_DOMAIN = 'https://react-prep-default-rtdb.firebaseio.com';\n\nexport async function getAllQuotes() {\n  const response = await fetch(`${FIREBASE_DOMAIN}/quotes.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not fetch quotes.');\n  }\n\n  const transformedQuotes = [];\n\n  for (const key in data) {\n    const quoteObj = {\n      id: key,\n      ...data[key],\n    };\n\n    transformedQuotes.push(quoteObj);\n  }\n\n  return transformedQuotes;\n}\n\nexport async function getSingleQuote(quoteId) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/quotes/${quoteId}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not fetch quote.');\n  }\n\n  const loadedQuote = {\n    id: quoteId,\n    ...data,\n  };\n\n  return loadedQuote;\n}\n\nexport async function addQuote(quoteData) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/quotes.json`, {\n    method: 'POST',\n    body: JSON.stringify(quoteData),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not create quote.');\n  }\n\n  return null;\n}\n\nexport async function addComment(requestData) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/comments/${requestData.quoteId}.json`, {\n    method: 'POST',\n    body: JSON.stringify(requestData.commentData),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not add comment.');\n  }\n\n  return { commentId: data.name };\n}\n\nexport async function getAllComments(quoteId) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/comments/${quoteId}.json`);\n\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not get comments.');\n  }\n\n  const transformedComments = [];\n\n  for (const key in data) {\n    const commentObj = {\n      id: key,\n      ...data[key],\n    };\n\n    transformedComments.push(commentObj);\n  }\n\n  return transformedComments;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}